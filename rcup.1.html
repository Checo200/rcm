<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
RCUP(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
RCUP(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
RCUP(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="NAME">NAME</h1> <b class="name">rcup</b> &#8212; <span class="desc">update and install dotfiles managed by rcm</span></div>
<div class="section">
<h1 id="SYNOPSIS">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
<b class="name">rcup</b></td>
<td>
[<span class="opt"><b class="flag">-CfhiKkqVv</b></span>] [<span class="opt"><b class="flag">-B</b> <i class="arg">hostname</i></span>] [<span class="opt"><b class="flag">-d</b> <i class="arg">dir</i></span>] [<span class="opt"><b class="flag">-g</b></span>] [<span class="opt"><b class="flag">-I</b> <i class="arg">excl_pat</i></span>] [<span class="opt"><b class="flag">-S</b> <i class="arg">excl_pat</i></span>] [<span class="opt"><b class="flag">-s</b> <i class="arg">excl_pat</i></span>] [<span class="opt"><b class="flag">-t</b> <i class="arg">tag</i></span>] [<span class="opt"><b class="flag">-U</b> <i class="arg">excl_pat</i></span>] [<span class="opt"><b class="flag">-u</b> <i class="arg">excl_pat</i></span>] [<span class="opt"><b class="flag">-x</b> <i class="arg">excl_pat</i></span>] [<span class="opt"><i class="arg">files ...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="DESCRIPTION">DESCRIPTION</h1> This is a program to update and install personal dotfiles. These dotfiles are managed in a separate directory. Use <b class="name">rcup</b> to install files from your dotfiles directories or from host- or tag-specific directories within.<div class="spacer">
</div>
See <i class="link-sec"><a class="link-sec" href="#DIRECTORY_LAYOUT">DIRECTORY LAYOUT</a></i> for details on the directory layout.<div class="spacer">
</div>
It supports these options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-B</b> <i class="arg">HOSTNAME</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
treat <i class="file">host-HOSTNAME</i> as the host-specific directory instead of computing it</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-C</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
copy the files instead of symlinking them</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b> <i class="arg">DIR</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
install dotfiles from the <i class="arg">DIR</i>. This can be specified multiple times.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
if the rc file already exists in your home directory but does not match the file in your dotfiles directory, remove the rc file then create the symlink</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
print to <code class="lit">stdout</code> a standalone shell script that will run the <b class="name">rcup</b> command as specified. Nothing on your filesystem will be modified by <b class="name">rcup</b> when this flag is passed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-h</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
show usage instructions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-I</b> <i class="arg">EXCL_PAT</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
install rc files that match <i class="arg">EXCL_PAT</i> despite being excluded by the <b class="flag">-x</b> flag or a setting in <a class="link-man" href="rcrc.5.html">rcrc(5)</a>. This can be repeated with additional patterns. See <a class="link-man" href="lsrc.1.html">lsrc(1)</a>, <i class="link-sec"><a class="link-sec" href="#EXCLUDE_PATTERN">EXCLUDE PATTERN</a></i>, for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
if the rc file already exists in your home directory but does not match the file in your dotfiles directory, prompt for how to handle it. This is the default</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-K</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
skip pre- and post-hooks</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
run pre- and post-hooks (see <i class="link-sec"><a class="link-sec" href="#DIRECTORY_LAYOUT">DIRECTORY LAYOUT</a></i> for more details on hooks). This is the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b> <i class="arg">EXCL_PAT</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
any rc file that matches <i class="arg">EXCL_PAT</i> is installed as if it were a file (using a symlink) instead of as if it were a directory (by making a directory). This option can be repeated.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">EXCL_PAT</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
any file that matches <i class="arg">EXCL_PAT</i> is installed as normal, in accordance with the <i class="link-sec"><a class="link-sec" href="#ALGORITHM">ALGORITHM</a></i> section below. This is the opposite of <b class="flag">-S</b>. This option can be repeated.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b> <i class="arg">TAG</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
install dotfiles according to <i class="arg">TAG</i></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b> <i class="arg">EXCL_PAT</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
any rc file that matches <i class="arg">EXCL_PAT</i> is installed without a leading dot. This option can be repeated. See the documentation of the <b class="flag">-U</b> option in <a class="link-man" href="lsrc.1.html">lsrc(1)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b> <i class="arg">EXCL_PAT</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
any rc file that matches <i class="arg">EXCL_PAT</i> is installed with a leading dot. This is the opposite of <b class="flag">-U</b>. This option can be repeated. This is the default. See the documentation of the <b class="flag">-u</b> option in <a class="link-man" href="lsrc.1.html">lsrc(1)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
decrease verbosity</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-V</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
show the version number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
increase verbosity. This can be repeated for extra verbosity. Verbose messages are printed to <code class="lit">stderr</code>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b> <i class="arg">EXCL_PAT</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
do not install rc files that match <i class="arg">EXCL_PAT</i>. This can be repeated with additional patterns. See <a class="link-man" href="lsrc.1.html">lsrc(1)</a>, <i class="link-sec"><a class="link-sec" href="#EXCLUDE_PATTERN">EXCLUDE PATTERN</a></i>, for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">files</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
only install the specified file(s)</dd>
</dl>
</div>
<div class="section">
<h1 id="DIRECTORY_LAYOUT">DIRECTORY LAYOUT</h1> Any non-dot non-meta file or directory under your dotfiles directory will be installed as a dotfile. For example, <i class="file">.dotfiles/zshrc</i> will be installed into <i class="file">~/.zshrc</i> .<div class="spacer">
</div>
Files are installed as symlinks. Directories are installed by making directories. The <b class="flag">-C</b> flag causes files to be installed as copies instead of symlinks. The <b class="var">COPY_ALWAYS</b> option in <a class="link-man" href="rcrc.5.html">rcrc(5)</a> can be used to list files that must only be copied.<div class="spacer">
</div>
Three meta files are supported: host-specific files, tagged files, hooks.<div class="spacer">
</div>
Host-specific files go in a directory named for the host, prefixed with <i class="file">host-</i>. For example, <i class="file">.dotfiles/host-scarlett</i> contains files specific to the computer with hostname <i class="file">scarlett</i>, and these files will only be installed on the computer with hostname <i class="file">scarlett</i>.<div class="spacer">
</div>
Tagged files go in a directory named for the tag, prefixed with <code class="lit">tag-</code>. Therefore, files under <i class="file">.dotfiles/tag-git</i> are only installed when installing using the <code class="lit">git</code> tag.<div class="spacer">
</div>
Hooks go in a directory named <i class="file">hooks</i>. Two hooks are supported by <b class="name">rcup</b>: pre-up and post-up. These go in files or directories with predictable filenames: <i class="file">.dotfiles/hooks/pre-up</i> and <i class="file">.dotfiles/hooks/post-up</i>, or <i class="file">.dotfiles/hooks/pre-up/*</i> and <i class="file">.dotfiles/hooks/post-up/*</i>. These files must be executable. They are run every time <b class="name">rcup</b> is run, and therefore must be idempotent.<div class="spacer">
</div>
Hooks will be executed one at a time, sorted alphabetically. For instance, <i class="file">hooks/pre-up/animals</i> will run before <i class="file">hooks/pre-up/aquariums</i>, and <i class="file">hooks/pre-up/4-eyes</i> will run before <i class="file">hooks/post-up/2-u-nothing-compares</i>.</div>
<div class="section">
<h1 id="ALGORITHM">ALGORITHM</h1> It is instructive to understand the process <b class="name">rcup</b> uses when synchronizing your rc files:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
The pre-up hook is run.</li>
<li class="list-enum" style="margin-top: 1.00em;">
All non-host, non-tag files without a dot prefix are symlinked to the dotted filename in your home directory. So, <i class="file">.dotfiles/tigrc</i> is symlinked to <i class="file">~/.tigrc</i>.</li>
<li class="list-enum" style="margin-top: 1.00em;">
All non-host, non-tag directories have their structure copied to your home directory, then a non-dotted symlink is created within.  So for example, <i class="file">.dotfiles/vim/autoload/haskell.vim</i> causes the <i class="file">~/.vim/autoload</i> directory to be created, then <i class="file">haskell.vim</i> is symlinked within.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Steps (2) and (3) are applied to host-specific files. These are files under a directory named <i class="file">host-</i><b class="var">$HOSTNAME</b>.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Steps (2) and (3) are applied to tag-specific files. These are files under directories named <i class="file">tag-</i><b class="var">$TAG_NAME</b>, where <b class="var">$TAG_NAME</b> is the name of each specified tag in turn, taken from the command line or from <a class="link-man" href="rcrc.5.html">rcrc(5)</a>.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The post-up hook is run.</li>
</ol>
</div>
<div class="section">
<h1 id="ENVIRONMENT">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">RCRC</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User configuration file. Defaults to <i class="file">~/.rcrc</i>.</dd>
</dl>
</div>
<div class="section">
<h1 id="FILES">FILES</h1> <i class="file">~/.dotfiles</i> <i class="file">~/.rcrc</i></div>
<div class="section">
<h1 id="SEE_ALSO">SEE ALSO</h1> <a class="link-man" href="lsrc.1.html">lsrc(1)</a>, <a class="link-man" href="mkrc.1.html">mkrc(1)</a>, <a class="link-man" href="rcdn.1.html">rcdn(1)</a>, <a class="link-man" href="rcrc.5.html">rcrc(5)</a>, <a class="link-man" href="rcm.7.html">rcm(7)</a></div>
<div class="section">
<h1 id="AUTHORS">AUTHORS</h1> <b class="name">rcup</b> is maintained by <span class="author">Mike Burns</span> &lt;<a class="link-mail" href="mailto:mburns@thoughtbot.com">mburns@thoughtbot.com</a>&gt; and <a class="link-ext" href="http://thoughtbot.se">thoughtbot</a></div>
<table class="foot">
<tbody>
<tr>
<td class="foot-date">
July 28, 2013</td>
<td class="foot-os">
OpenBSD 6.0</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

